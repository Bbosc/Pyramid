<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Pyramid</title>
        <link rel="icon" type="image/x-icon" href="/images/pyramid.ico">
        <link rel="stylesheet" type="text/css" href="/css/pyramid.css">
        <link rel="stylesheet" type="text/css" href="/css/style.css">
        <script type="text/javascript" src="/js/pyramid.js"></script>
    </head>

    <body id="pyramid">

        <div class="home-button"><a href="/"></a></div>

        <div id="new-task">
            <h1 onclick="toggleForm()">Add a new task âžœ</h1>
        </div>

        <div id="tasks-container">
            <div class="tier-container"><h2>Tier 4</h2></div>
            <div class="tier-container"><h2>Tier 3</h2></div>
            <div class="tier-container"><h2>Tier 2</h2></div>
            <div class="tier-container"><h2>Tier 1</h2></div>
            <div class="tier-container"><h2>Tier 0</h2></div>
        </div>

        <form class="task-form hidden" method="POST" action="/pyramid/save">
            <div style="display: none;">
                <label for="taskId"></label>
                <input type="text" id="taskId" name="taskId">
            </div>
            <div class="header-input">
                <label for="task-name"></label>
                <input type="text" id="task-name" name="task-name" placeholder="Name">
            </div>
            <div class="text-input">
                <textarea name="task-desc" id="task-desc" placeholder="Description..."></textarea>
            </div>
            <div class="number-input">
                <label for="task-tier">Tier: </label>
                <input type="number" id="task-tier" name="task-tier" placeholder=4 min=0 max=4>
            </div>
            <div class="date-input">
                <label for="task-deadline">Deadline: </label>
                <input type="date" id="task-deadline" name="task-deadline">
            </div>

            <button type="button" onclick="toggleForm()">Cancel</button>
            <button type="submit">Save</button>

        </form>


        <script>
            const allTasks = <%-JSON.stringify(tasks)%>;
            const pyramid = new Pyramid(allTasks);
        </script>
        

    </body>

</html>
